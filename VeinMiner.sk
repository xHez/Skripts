on block break:
    player is sneaking
    veinminer(event-location, player's tool)

function veinminer(l: location, t: item):
    set {_drops::*} to drops of block at {_l} using {_t}
    drop {_drops::*} at {_l}
    set block at {_l} to air
    loop blocks in radius 1 of {_l}:
        if loop-block is any ore:
            veinminer(location of loop-block, {_t})
